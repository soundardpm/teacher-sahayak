# Project Structure

### Changes in Version 1.0

- Fixed "Invalid next.config.ts options detected" error by removing the `serverActions` option from the `next.config.ts` file.
- Fixed "Cross origin request detected" warning by adding the `allowedDevOrigins` option to the `next.config.ts` file.

This document provides a detailed overview of the directory structure for the Aasiriyar AI Teacher application. Understanding this structure is key to navigating the codebase and contributing effectively.

## High-Level Overview

```
.
├── .vscode/              # VS Code editor settings
├── public/               # Static assets (not used in this project)
├── src/                  # Main application source code
│   ├── app/              # Next.js App Router: Pages, Layouts, and Routes
│   ├── ai/               # Genkit AI flows and configuration
│   ├── components/       # Reusable React components
│   ├── context/          # React Context providers for global state
│   ├── hooks/            # Custom React hooks
│   ├── lib/              # Utility functions and library initializations
├── .env                  # Local environment variables (not committed)
├── .gitignore            # Git ignore file
├── apphosting.yaml       # Firebase App Hosting configuration
├── components.json       # ShadCN UI configuration
├── next.config.ts        # Next.js configuration
├── package.json          # Project dependencies and scripts
├── README.md             # Project overview and setup guide
├── tailwind.config.ts    # Tailwind CSS configuration
└── tsconfig.json         # TypeScript configuration
```

## `src` Directory Breakdown

The `src` directory contains all the core application code.

### `src/app/`

This directory uses the Next.js App Router for all routing, layouts, and page rendering.

-   `layout.tsx`: The root layout for the entire application. It includes the `<html>` and `<body>` tags and wraps all pages with essential providers like `ThemeProvider` and `AuthProvider`.
-   `globals.css`: The global stylesheet, including Tailwind CSS directives and ShadCN theme variables.
-   `page.tsx`: The landing page component for the application.
-   `login/page.tsx`: The sign-in page, which handles user authentication.
-   `dashboard/page.tsx`: The main application dashboard, which is a protected route. It contains the sidebar and renders the active feature component.

### `src/ai/`

This is the heart of the AI functionality, powered by Genkit.

-   `genkit.ts`: Configures and initializes the main Genkit `ai` instance with the Google AI plugin.
-   `dev.ts`: The entry point for the Genkit development server, which imports and registers all the defined flows.
-   `flows/`: A directory containing individual files for each AI feature (Genkit flow). Each file typically defines the input/output schemas (with Zod), the AI prompt, and the flow logic itself.
    -   `ai-powered-weekly-lesson-planners.ts`: Creates weekly lesson plans.
    -   `create-differentiated-materials.ts`: Generates worksheets for different grade levels from an image.
    -   `design-visual-aids.ts`: Creates a simple visual aid image from a description.
    -   `game-generation.ts`: Devises rules and materials for an educational game.
    -   `generate-audio-visual-explanation.ts`: Produces a script, audio narration, and visual aid for a topic.
    -   `generate-local-content.ts`: Creates text content in a specified local language.
    -   `instant-knowledge-base.ts`: Answers a question with a simple explanation.
    -   `storygen.ts`: Generates a full story with character voices and illustrations.
    -   `reading-assessment.ts`: Transcribes and assesses a student's reading audio.

### `src/components/`

Contains all React components used throughout the application.

-   `ui/`: Reusable, low-level UI components generated by and customized for ShadCN UI (e.g., `Button.tsx`, `Card.tsx`, `Input.tsx`).
-   `features/`: High-level components that encapsulate the UI and logic for each of the main application features shown in the dashboard.
    -   `AudioAssessment.tsx`
    -   `AudioVisualExplanation.tsx`
    -   `DifferentiatedMaterials.tsx`
    -   `GameGeneration.tsx`
    -   `InteractiveStoryteller.tsx`
    -   `KnowledgeBase.tsx`
    -   `LessonPlanner.tsx`
    -   `LocalizedContent.tsx`
    -   `VisualAids.tsx`
-   `auth/`: Components related to authentication, such as `ProtectedRoute.tsx`.
-   `icons.tsx`: Custom SVG icons used in the application.
-   `theme-provider.tsx`: The provider component for managing light/dark mode, using `next-themes`.

### `src/context/`

Houses React Context providers for managing global state.

-   `auth-context.tsx`: Provides authentication state (user object, loading status) to the entire application, listening to Firebase Auth changes.

### `src/hooks/`

Contains custom React hooks for reusable logic.

-   `use-toast.ts`: A custom hook for displaying toast notifications.
-   `use-mobile.ts`: A hook to detect if the user is on a mobile device based on screen width.

### `src/lib/`

A collection of utility functions and library initializations.

-   `firebase.ts`: Initializes the Firebase app and exports Firebase services like `auth`.
-   `utils.ts`: General utility functions, most notably the `cn` function from ShadCN for merging Tailwind CSS classes.
